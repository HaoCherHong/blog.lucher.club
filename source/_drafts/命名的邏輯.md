---
title: 命名的邏輯
date: 2018-01-19 11:52:43
tags: [dev, programming]
---
這不是一篇寫命名要有什麼規則比較好的文章，而是用幾年的開發經驗整理出的命名的**“用詞”**跟**“邏輯”**；

不是要討論 `fooBar` 跟 `foo_bar` 哪個比較好，而是告訴你為什麼不要寫一個函數叫做 `disappear()` 來隱藏一個物件。


我在寫這篇文章時，並沒有看過很多關於程式碼風格的文章或是書籍。

這篇文章都是以我的開發經驗去寫出來的，想從我個人原始的觀點去整理命名邏輯這回事。

因為我最近期的專案是遊戲開發，所以這篇的舉例都會以遊戲開發作為實例，但是放在其他領域也是行得通的。

---

# 動詞；名詞；形容詞

我在我參與過的專案，發現易讀的程式碼，通常都有這些特性：

## 函數的名字通常是動詞開頭的

寫一個 statement 就像是寫一個句子，敘述(state)一件事情發生。

而句子裡會有什麼？**主詞** 跟 **動詞**。

在物件導向程式語言裡面，呼叫一個函式就像是寫一個完整的句子，也有主詞跟動詞：

```javascript=
// 玩家移動
player.move();
```

物件就是主詞；函數就是動詞。

如果動作有 **受詞** ，那就是在 **參數** 裡：

```javascript=
// 玩家打敵人
player.hit(enemy);
```

一個易讀的敘述，讀起來就像個句子一樣。

## 變數通常是個名詞

一般來說，變數會出現在哪裡呢？

函數的前面、參數，或是單純的表示式(expression)

以一個句子的結構來說，就是 **主詞** 或是 **受詞** 的概念。

主詞或受詞，名詞就會是 **名詞** 了！

但是也是有例外的：

## 布林的變數、Getter、Setter 通常是個形容詞

**或是**： `isSomething`。

看到一個非形容詞的布林值，通常會讓我很頭痛：

```javascript=
//
player.die
// 到底是個
```

如果用
```javascript=
player.killed
//或是
player.isKilled
```

就清楚多了！

畢竟 killed 只有 is 或 is not 嘛。


# disappear() 怎麼了嗎？

我在我參與的專案中看到了這個函數的命名？

他怎麼了嗎？好像可以看出他是幹嘛的，**但又覺得怪怪的**。

問題出在哪裡？

第一次看到這個函數時，可以有幾種解讀：

1. 當呼叫函數時，物件就會消失。
2. 當物件消失時，就會呼叫這個函數，做接下來要做的事。

沒有錯，disappear 的確是個動詞，但是他有一個問題：

disappear 是個 “我們看到了事情的發生，再把事情重新敘述出來時會用到的動詞”，也就是以 **第三人稱** 的角度來使用的動詞。

如果換成第一人稱會是什麼？我想是 **Hide** 。

看到 `player.hide()` 就會很清楚這個函數的角色了。

用文字來解讀的話看起來就像是：

```javascript=
player.hide(); // 隱藏玩家
```

而不是：

```javascript=
player.disappear(); // 玩家消失“了“

// 到底是要讓他消失，還是描述消失之後要做的事呢？
```

****

# 搞清楚主詞到底是誰

# 命名時就表示好“它”到底是什麼東西

你有沒有曾經發生過，想要更改UI元件上的文字：
```javascript=
postTitle = '安安您好';
```
就發生了錯誤：
`Cannot convert type String to Label`

原來，`postTitle` 是一個 `Label` ，所以要寫成：

```javascript=
postTitle.text = '安安您好';
```

**浪費時間！**

一開始就把這個東西命名成 `postTitleLabel` 或是 `labelPostTitle` 就不會有這種誤會了。

我認為一個項目的命名應該 **清楚表示** 它是什麼東西，而不是只是讓你在撰寫時能 **分辨** 它而已。

# 寫一篇會描述自己的程式碼

...說明些註解